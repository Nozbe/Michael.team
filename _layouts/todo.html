<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Michael.team to-do list</title>
	<link rel="stylesheet" href="/todo.css">
    <script src="/js/todo-lists.js"></script>
</head>
<body>
    <h1>To-Do List<span id="listSpan"></span> for <span id="userSpan"></span></h1>
    
    <!-- Form for adding tasks -->
    <form id="taskForm">
        <input type="text" id="taskInput" placeholder="Enter a task" required>
        <button type="submit">Add Task</button>
    </form>
    
    <!-- Display the to-do list -->
    <h2>Your To-Do List:</h2>
    <ul id="todoList"></ul>
    
    <button id="resetButton">Reset To-Do List</button>

    <!-- Detect Safari so we can load different versions for iOS9 on my old iPad -->
    <script>
        function isSafariBelow10() {
            var userAgent = navigator.userAgent.toLowerCase(); // Get the browser's user agent string
            var isSafari = userAgent.includes("safari") && !userAgent.includes("chrome"); // Detect Safari (exclude Chrome)
            if (isSafari) {
                var safariVersionMatch = userAgent.match(/version\/(\d+)/); // Extract Safari version
                if (safariVersionMatch && parseInt(safariVersionMatch[1], 10) < 10) {
                    return true; // Safari version is below 10
                }
            }
            return false; // Not Safari below version 10
        }
        if (isSafariBelow10()) {
            var script = document.createElement("script");
            script.src = "/js/todo-old.js"; // old Safari
            document.body.appendChild(script);
        } else {
            var script = document.createElement("script");
            script.src = "/js/todo.js"; // Modern
            document.body.appendChild(script);
        }
    </script>
</body>
</html>